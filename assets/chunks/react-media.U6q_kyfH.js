import{r as t}from"./index.D2AIRPYc.js";var ze={exports:{}},pe={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var st=t,lt=Symbol.for("react.element"),it=Symbol.for("react.fragment"),ct=Object.prototype.hasOwnProperty,ot=st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ut={key:!0,ref:!0,__self:!0,__source:!0};function Re(c,p,w){var h,b={},C=null,v=null;w!==void 0&&(C=""+w),p.key!==void 0&&(C=""+p.key),p.ref!==void 0&&(v=p.ref);for(h in p)ct.call(p,h)&&!ut.hasOwnProperty(h)&&(b[h]=p[h]);if(c&&c.defaultProps)for(h in p=c.defaultProps,p)b[h]===void 0&&(b[h]=p[h]);return{$$typeof:lt,type:c,key:C,ref:v,props:b,_owner:ot.current}}pe.Fragment=it;pe.jsx=Re;pe.jsxs=Re;ze.exports=pe;var e=ze.exports;function Ve(c,p={}){const{initialVolume:w=1,initialMuted:h=!1,onPlay:b,onPause:C,onEnded:v,onTimeUpdate:j,onVolumeChange:P,onError:F,onLoadedMetadata:V,onWaiting:O,onPlaying:S}=p,[d,y]=t.useState({playing:!1,currentTime:0,duration:0,volume:w,muted:h,buffered:0,playbackRate:1,waiting:!1,ended:!1}),te=t.useMemo(()=>d.duration===0?0:d.currentTime/d.duration*100,[d.currentTime,d.duration]),ae=t.useMemo(()=>T(d.currentTime),[d.currentTime]),$=t.useMemo(()=>T(d.duration),[d.duration]);function T(r){if(!isFinite(r)||isNaN(r))return"0:00";const H=Math.floor(r/60),_=Math.floor(r%60);return`${H}:${_.toString().padStart(2,"0")}`}const k=t.useCallback(()=>{var r;(r=c.current)==null||r.play()},[c]),m=t.useCallback(()=>{var r;(r=c.current)==null||r.pause()},[c]),K=t.useCallback(()=>{d.playing?m():k()},[d.playing,k,m]),X=t.useCallback(r=>{c.current&&(c.current.currentTime=Math.max(0,Math.min(r,d.duration)))},[c,d.duration]),Y=t.useCallback(r=>{X(r/100*d.duration)},[X,d.duration]),re=t.useCallback(r=>{c.current&&(c.current.volume=Math.max(0,Math.min(1,r)))},[c]),B=t.useCallback(()=>{c.current&&(c.current.muted=!c.current.muted)},[c]),I=t.useCallback(r=>{c.current&&(c.current.playbackRate=r)},[c]);return t.useEffect(()=>{const r=c.current;if(!r)return;const H=()=>{y(i=>({...i,playing:!0,ended:!1})),b==null||b()},_=()=>{y(i=>({...i,playing:!1})),C==null||C()},G=()=>{y(i=>({...i,playing:!1,ended:!0})),v==null||v()},W=()=>{const i=r.currentTime,u=r.duration||0,f=u>0?i/u*100:0;y(z=>({...z,currentTime:i})),j==null||j({currentTime:i,duration:u,percentage:f})},q=()=>{const i=r.volume,u=r.muted;y(f=>({...f,volume:i,muted:u})),P==null||P({volume:i,muted:u})},Q=()=>{const i=r.duration;y(u=>({...u,duration:i})),V==null||V({duration:i})},D=()=>{if(r.buffered.length>0){const i=r.buffered.end(r.buffered.length-1),u=r.duration||1;y(f=>({...f,buffered:i/u*100}))}},U=()=>{y(i=>({...i,waiting:!0})),O==null||O()},g=()=>{y(i=>({...i,waiting:!1})),S==null||S()},A=()=>{r.error&&(F==null||F({code:r.error.code,message:r.error.message}))},s=()=>{y(i=>({...i,playbackRate:r.playbackRate}))};return r.addEventListener("play",H),r.addEventListener("pause",_),r.addEventListener("ended",G),r.addEventListener("timeupdate",W),r.addEventListener("volumechange",q),r.addEventListener("loadedmetadata",Q),r.addEventListener("progress",D),r.addEventListener("waiting",U),r.addEventListener("playing",g),r.addEventListener("error",A),r.addEventListener("ratechange",s),r.volume=w,r.muted=h,()=>{r.removeEventListener("play",H),r.removeEventListener("pause",_),r.removeEventListener("ended",G),r.removeEventListener("timeupdate",W),r.removeEventListener("volumechange",q),r.removeEventListener("loadedmetadata",Q),r.removeEventListener("progress",D),r.removeEventListener("waiting",U),r.removeEventListener("playing",g),r.removeEventListener("error",A),r.removeEventListener("ratechange",s)}},[c,w,h,b,C,v,j,P,F,V,O,S]),{state:d,progress:te,formattedCurrentTime:ae,formattedDuration:$,play:k,pause:m,togglePlay:K,seek:X,seekPercentage:Y,setVolume:re,toggleMute:B,setPlaybackRate:I,formatTime:T}}const mt=t.forwardRef(({src:c,poster:p,autoplay:w=!1,loop:h=!1,muted:b=!1,controls:C=!0,width:v="100%",height:j="auto",primaryColor:P="#6366f1",darkMode:F=!1,playbackRates:V=[.5,.75,1,1.25,1.5,2],preload:O="metadata",keyboardShortcuts:S=!0,globalKeyboardShortcuts:d=!1,showPiP:y=!0,showSpeed:te=!0,showFullscreen:ae=!0,showThumbnailPreview:$=!0,touchGestures:T=!0,miniPlayer:k=!1,miniPlayerPosition:m="bottom-right",backgroundColor:K="transparent",className:X,style:Y,children:re,controlsLeft:B,onPlay:I,onPause:r,onEnded:H,onTimeUpdate:_,onVolumeChange:G,onError:W,onLoadedMetadata:q},Q)=>{const D=t.useRef(null),U=t.useRef(null),g=t.useRef(null),A=t.useRef(null),s=t.useRef(null),[i,u]=t.useState(!0),[f,z]=t.useState(!1),[L,ne]=t.useState(!1),[Z,Me]=t.useState(null),[we,Se]=t.useState(0),[he,Ne]=t.useState(!1),[J,Ee]=t.useState(!1),[$e,Be]=t.useState(!1),[se,ge]=t.useState(!1),[Ce,Le]=t.useState({show:!1,text:""}),le=t.useRef(null),ie=t.useRef(null),fe=t.useRef(null),N=t.useRef({x:0,y:0,time:0,volume:0,isSwiping:!1,swipeDirection:null}),xe=t.useRef(!1),Pe=t.useRef(!1),{state:n,progress:Te,formattedCurrentTime:Ie,formattedDuration:He,togglePlay:ce,seek:oe,seekPercentage:me,setVolume:R,toggleMute:ye,setPlaybackRate:de,formatTime:_e}=Ve(g,{initialMuted:b,onPlay:I,onPause:r,onEnded:H,onTimeUpdate:_,onVolumeChange:G,onError:W,onLoadedMetadata:q}),De=t.useMemo(()=>({width:typeof v=="number"?`${v}px`:v,height:typeof j=="number"?`${j}px`:j,"--vm-primary":P,"--vm-primary-hover":Fe(P,-15),"--vm-primary-light":Oe(P,.2),"--vm-player-bg":K,...Y}),[v,j,P,K,Y]),Ue=t.useMemo(()=>se?{width:typeof v=="number"?`${v}px`:v,height:typeof j=="number"?`${j}px`:"auto",aspectRatio:"16 / 9"}:{},[se,v,j]),Ae=t.useMemo(()=>{const a=we;let l=-50;return a<10?l=-(a*5):a>90&&(l=-50-(a-90)*5),{left:`${a}%`,transform:`translateX(${l}%)`}},[we]);function Fe(a,l){const o=parseInt(a.replace("#",""),16),x=Math.round(2.55*l),M=Math.max(0,Math.min(255,(o>>16)+x)),E=Math.max(0,Math.min(255,(o>>8&255)+x)),ue=Math.max(0,Math.min(255,(o&255)+x));return`#${(16777216+M*65536+E*256+ue).toString(16).slice(1)}`}function Oe(a,l){const o=parseInt(a.replace("#",""),16),x=o>>16&255,M=o>>8&255,E=o&255;return`rgba(${x}, ${M}, ${E}, ${l})`}const ve=t.useCallback(()=>{le.current&&clearTimeout(le.current),n.playing&&(le.current=setTimeout(()=>{u(!1)},3e3))},[n.playing]),Ke=t.useCallback(()=>{u(!0),ve()},[ve]),Xe=t.useCallback(()=>{n.playing&&u(!1)},[n.playing]),Ye=t.useCallback(a=>{const l=a.currentTarget.getBoundingClientRect(),o=(a.clientX-l.left)/l.width*100;me(o)},[me]),Ge=t.useCallback(a=>{me(parseFloat(a.target.value))},[me]),We=t.useCallback(a=>{R(parseFloat(a.target.value)/100)},[R]),qe=t.useCallback(()=>{z(a=>!a)},[]),Qe=t.useCallback(a=>{de(a),z(!1)},[de]),ee=t.useCallback(()=>{U.current&&(document.fullscreenElement?(document.exitFullscreen(),ne(!1)):(U.current.requestFullscreen(),ne(!0)))},[]),be=t.useCallback(()=>{g.current&&(document.pictureInPictureElement?document.exitPictureInPicture():g.current.requestPictureInPicture())},[]),je=t.useCallback(a=>{if(!(!S||!["Space","ArrowLeft","ArrowRight","ArrowUp","ArrowDown","KeyM","KeyF","Escape"].includes(a.code)))switch(a.preventDefault(),a.code){case"Space":ce();break;case"ArrowLeft":oe(n.currentTime-5);break;case"ArrowRight":oe(n.currentTime+5);break;case"ArrowUp":R(Math.min(1,n.volume+.1));break;case"ArrowDown":R(Math.max(0,n.volume-.1));break;case"KeyM":ye();break;case"KeyF":ee();break;case"Escape":L?document.exitFullscreen():J&&document.pictureInPictureElement&&document.exitPictureInPicture();break}},[S,ce,oe,R,ye,ee,n.currentTime,n.volume,L,J]),Ze=t.useCallback(async a=>{const l=a.currentTarget.getBoundingClientRect(),o=(a.clientX-l.left)/l.width*100,x=Math.max(0,Math.min(100,o));Se(x),Me(o/100*n.duration),$&&g.current&&n.duration>0&&Ne(!0)},[n.duration,$]),Je=t.useCallback(()=>{Me(null),Ne(!1)},[]);t.useEffect(()=>{!he||Z===null||!$||(async()=>{if(!g.current||!A.current||xe.current)return;const a=A.current,l=a.getContext("2d");if(!l||(s.current||(s.current=document.createElement("video"),s.current.preload="metadata",s.current.muted=!0,s.current.playsInline=!0,s.current.src=g.current.src,await new Promise(x=>{const M=()=>{var E;(E=s.current)==null||E.removeEventListener("loadeddata",M),Pe.current=!0,x()};s.current.addEventListener("loadeddata",M)})),!Pe.current))return;const o=s.current;Math.abs(o.currentTime-Z)>.5&&(xe.current=!0,o.currentTime=Z,await new Promise(x=>{const M=()=>{o.removeEventListener("seeked",M),x()};o.addEventListener("seeked",M)}),xe.current=!1);try{l.drawImage(o,0,0,a.width,a.height)}catch{console.warn("Cannot generate thumbnail due to CORS restrictions")}})()},[he,Z,$]);const et=t.useCallback(a=>{if(!T||a.touches.length!==1)return;const l=a.touches[0];N.current={x:l.clientX,y:l.clientY,time:n.currentTime,volume:n.volume,isSwiping:!1,swipeDirection:null}},[T,n.currentTime,n.volume]),ke=t.useCallback(a=>{Le({show:!0,text:a})},[]),tt=t.useCallback(a=>{if(!T||a.touches.length!==1)return;const l=a.touches[0],o=l.clientX-N.current.x,x=l.clientY-N.current.y;if(!N.current.swipeDirection&&(Math.abs(o)>10||Math.abs(x)>10)&&(N.current.swipeDirection=Math.abs(o)>Math.abs(x)?"horizontal":"vertical",N.current.isSwiping=!0),!!N.current.isSwiping)if(N.current.swipeDirection==="horizontal"){const M=o/200*30,E=Math.max(0,Math.min(n.duration,N.current.time+M));oe(E);const ue=E-N.current.time;ke(ue>=0?`+${Math.round(ue)}s`:`${Math.round(ue)}s`)}else{const M=-x/200,E=Math.max(0,Math.min(1,N.current.volume+M));R(E),ke(`音量 ${Math.round(E*100)}%`)}},[T,oe,R,n.duration,ke]),at=t.useCallback(()=>{N.current={x:0,y:0,time:0,volume:0,isSwiping:!1,swipeDirection:null},ie.current&&clearTimeout(ie.current),ie.current=setTimeout(()=>{Le({show:!1,text:""})},500)},[]),rt=t.useCallback(()=>{ge(!1)},[]);t.useEffect(()=>{const a=()=>{ne(!!document.fullscreenElement)},l=o=>{f&&!o.target.closest(".vm-speed-container")&&z(!1)};return document.addEventListener("fullscreenchange",a),document.addEventListener("click",l),Be("pictureInPictureEnabled"in document&&document.pictureInPictureEnabled),()=>{document.removeEventListener("fullscreenchange",a),document.removeEventListener("click",l)}},[f]),t.useEffect(()=>{const a=g.current;if(!a)return;const l=()=>Ee(!0),o=()=>Ee(!1);return a.addEventListener("enterpictureinpicture",l),a.addEventListener("leavepictureinpicture",o),()=>{a.removeEventListener("enterpictureinpicture",l),a.removeEventListener("leavepictureinpicture",o)}},[]),t.useEffect(()=>{if(!d)return;const a=l=>je(l);return document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)},[d,je]),t.useEffect(()=>{if(!(!k||!D.current))return fe.current=new IntersectionObserver(a=>{const l=a[0];!l.isIntersecting&&n.playing&&!L&&!J?ge(!0):l.isIntersecting&&ge(!1)},{threshold:.3}),fe.current.observe(D.current),()=>{var a;(a=fe.current)==null||a.disconnect()}},[k,n.playing,L,J]),t.useEffect(()=>{n.playing?ve():u(!0)},[n.playing,ve]),t.useEffect(()=>()=>{le.current&&clearTimeout(le.current),ie.current&&clearTimeout(ie.current),s.current&&(s.current.src="",s.current=null)},[]),t.useImperativeHandle(Q,()=>({play:()=>{var a;return(a=g.current)==null?void 0:a.play()},pause:()=>{var a;return(a=g.current)==null?void 0:a.pause()},seek:a=>{g.current&&(g.current.currentTime=a)},setVolume:R,setPlaybackRate:de,toggleFullscreen:ee,togglePiP:be,getState:()=>n}),[R,de,ee,be,n]);const nt=["vm-player","vm-video-player",F&&"vm-dark",L&&"vm-fullscreen",se&&"vm-mini-player",se&&`vm-mini-${m}`,X].filter(Boolean).join(" ");return e.jsx("div",{ref:D,className:"vm-player-wrapper",style:Ue,children:e.jsxs("div",{ref:U,className:nt,style:De,tabIndex:0,onMouseMove:Ke,onMouseLeave:Xe,onKeyDown:je,children:[e.jsx("video",{ref:g,className:"vm-video",src:c,poster:p,autoPlay:w,loop:h,muted:b,preload:O,playsInline:!0,onClick:ce,onDoubleClick:ee,onTouchStart:et,onTouchMove:tt,onTouchEnd:at}),n.waiting&&!n.ended&&e.jsx("div",{className:"vm-loading",children:e.jsx("div",{className:"vm-loading-spinner"})}),!n.playing&&!n.waiting&&e.jsx("button",{className:"vm-play-overlay",onClick:ce,"aria-label":"Play",children:e.jsx("svg",{className:"vm-icon vm-icon-lg",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})}),Ce.show&&e.jsx("div",{className:"vm-gesture-overlay",children:Ce.text}),se&&e.jsx("button",{className:"vm-mini-close",onClick:rt,"aria-label":"Close mini player",children:e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})}),C&&(i||!n.playing)&&e.jsxs("div",{className:"vm-controls",children:[e.jsxs("div",{className:"vm-progress-container",onClick:Ye,onMouseMove:Ze,onMouseLeave:Je,children:[e.jsxs("div",{className:"vm-progress-bar",children:[e.jsx("div",{className:"vm-progress-buffered",style:{width:`${n.buffered}%`}}),e.jsx("div",{className:"vm-progress-played",style:{width:`${Te}%`}})]}),e.jsx("input",{type:"range",className:"vm-progress-slider",value:Te,min:0,max:100,step:.1,onChange:Ge,"aria-label":"Seek"}),Z!==null&&e.jsxs("div",{className:"vm-progress-tooltip vm-thumbnail-tooltip",style:Ae,children:[he&&e.jsx("canvas",{ref:A,className:"vm-thumbnail-canvas",width:160,height:90}),e.jsx("span",{className:"vm-thumbnail-time",children:_e(Z)})]})]}),e.jsxs("div",{className:"vm-controls-bar",children:[e.jsxs("div",{className:"vm-controls-left",children:[e.jsx("button",{className:"vm-btn",onClick:ce,"aria-label":n.playing?"Pause":"Play",children:n.playing?e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}):e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})}),e.jsxs("div",{className:"vm-volume-container",children:[e.jsx("button",{className:"vm-btn",onClick:ye,"aria-label":n.muted?"Unmute":"Mute",children:n.muted||n.volume===0?e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"})}):n.volume<.5?e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"})}):e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})}),e.jsx("div",{className:"vm-volume-slider-container",children:e.jsx("input",{type:"range",className:"vm-slider vm-volume-slider",value:n.muted?0:n.volume*100,min:0,max:100,onChange:We,"aria-label":"Volume"})})]}),e.jsxs("span",{className:"vm-time",children:[Ie," / ",He]})]}),e.jsxs("div",{className:"vm-controls-right",children:[B,te&&e.jsxs("div",{className:"vm-speed-container",children:[e.jsxs("button",{className:"vm-btn vm-speed-btn",onClick:qe,"aria-label":"Playback speed",children:[n.playbackRate,"x"]}),f&&e.jsx("div",{className:"vm-speed-menu",children:V.map(a=>e.jsxs("button",{className:`vm-speed-option ${n.playbackRate===a?"vm-active":""}`,onClick:()=>Qe(a),children:[a,"x"]},a))})]}),y&&$e&&e.jsx("button",{className:"vm-btn",onClick:be,"aria-label":J?"Exit Picture-in-Picture":"Picture-in-Picture",children:J?e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M21 3H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14z"})}):e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 7h-8v6h8V7zm2-4H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H3V5h18v14z"})})}),re,ae&&e.jsx("button",{className:"vm-btn",onClick:ee,"aria-label":L?"Exit fullscreen":"Fullscreen",children:L?e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"})}):e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})})})]})]})]})]})})});mt.displayName="VideoPlayer";const dt=t.forwardRef(({src:c,title:p,artist:w,cover:h,autoplay:b=!1,loop:C=!1,primaryColor:v="#6366f1",darkMode:j=!1,preload:P="metadata",className:F,style:V,onPlay:O,onPause:S,onEnded:d,onTimeUpdate:y,onVolumeChange:te,onError:ae,onLoadedMetadata:$},T)=>{const k=t.useRef(null),{state:m,progress:K,formattedCurrentTime:X,formattedDuration:Y,togglePlay:re,seek:B,seekPercentage:I,setVolume:r,toggleMute:H}=Ve(k,{onPlay:O,onPause:S,onEnded:d,onTimeUpdate:y,onVolumeChange:te,onError:ae,onLoadedMetadata:$});function _(s,i){const u=parseInt(s.replace("#",""),16),f=Math.round(2.55*i),z=Math.max(0,Math.min(255,(u>>16)+f)),L=Math.max(0,Math.min(255,(u>>8&255)+f)),ne=Math.max(0,Math.min(255,(u&255)+f));return`#${(16777216+z*65536+L*256+ne).toString(16).slice(1)}`}function G(s,i){const u=parseInt(s.replace("#",""),16),f=u>>16&255,z=u>>8&255,L=u&255;return`rgba(${f}, ${z}, ${L}, ${i})`}const W=t.useMemo(()=>({"--vm-primary":v,"--vm-primary-hover":_(v,-15),"--vm-primary-light":G(v,.2),...V}),[v,V]),q=t.useCallback(s=>{const i=s.currentTarget.getBoundingClientRect(),u=(s.clientX-i.left)/i.width*100;I(u)},[I]),Q=t.useCallback(s=>{I(parseFloat(s.target.value))},[I]),D=t.useCallback(s=>{r(parseFloat(s.target.value)/100)},[r]),U=t.useCallback(()=>{B(m.currentTime-10)},[B,m.currentTime]),g=t.useCallback(()=>{B(m.currentTime+10)},[B,m.currentTime]);t.useImperativeHandle(T,()=>({play:()=>{var s;return(s=k.current)==null?void 0:s.play()},pause:()=>{var s;return(s=k.current)==null?void 0:s.pause()},seek:s=>{k.current&&(k.current.currentTime=s)},setVolume:r,getState:()=>m}),[r,m]);const A=["vm-player","vm-audio-player",j&&"vm-dark",F].filter(Boolean).join(" ");return e.jsxs("div",{className:A,style:W,children:[e.jsx("audio",{ref:k,src:c,autoPlay:b,loop:C,preload:P}),e.jsx("div",{className:`vm-audio-cover ${m.playing?"vm-spinning":""}`,children:e.jsx("div",{className:"vm-audio-cover-inner",children:h?e.jsx("img",{src:h,alt:p||"Audio cover",className:"vm-cover-image"}):e.jsx("div",{className:"vm-cover-placeholder",children:e.jsx("svg",{className:"vm-icon vm-icon-lg",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 3v10.55c-.59-.34-1.27-.55-2-.55-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4V7h4V3h-6z"})})})})}),e.jsxs("div",{className:"vm-audio-content",children:[(p||w)&&e.jsxs("div",{className:"vm-audio-info",children:[e.jsx("h3",{className:"vm-audio-title",children:p||"Unknown Title"}),w&&e.jsx("p",{className:"vm-audio-artist",children:w})]}),e.jsxs("div",{className:"vm-audio-progress",children:[e.jsx("span",{className:"vm-time vm-time-current",children:X}),e.jsxs("div",{className:"vm-progress-container",onClick:q,children:[e.jsxs("div",{className:"vm-progress-bar",children:[e.jsx("div",{className:"vm-progress-buffered",style:{width:`${m.buffered}%`}}),e.jsx("div",{className:"vm-progress-played",style:{width:`${K}%`}})]}),e.jsx("input",{type:"range",className:"vm-progress-slider",value:K,min:0,max:100,step:.1,onChange:Q,"aria-label":"Seek"})]}),e.jsx("span",{className:"vm-time vm-time-duration",children:Y})]}),e.jsxs("div",{className:"vm-audio-controls",children:[e.jsx("button",{className:"vm-btn",onClick:U,"aria-label":"Skip back 10 seconds",children:e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z"})})}),e.jsx("button",{className:"vm-btn vm-btn-primary",onClick:re,"aria-label":m.playing?"Pause":"Play",children:m.playing?e.jsx("svg",{className:"vm-icon vm-icon-lg",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"})}):e.jsx("svg",{className:"vm-icon vm-icon-lg",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M8 5v14l11-7z"})})}),e.jsx("button",{className:"vm-btn",onClick:g,"aria-label":"Skip forward 10 seconds",children:e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z"})})})]}),e.jsxs("div",{className:"vm-audio-volume",children:[e.jsx("button",{className:"vm-btn vm-btn-small",onClick:H,"aria-label":m.muted?"Unmute":"Mute",children:m.muted||m.volume===0?e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"})}):m.volume<.5?e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM5 9v6h4l5 5V4L9 9H5z"})}):e.jsx("svg",{className:"vm-icon",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"})})}),e.jsx("input",{type:"range",className:"vm-slider vm-volume-slider",value:m.muted?0:m.volume*100,min:0,max:100,onChange:D,"aria-label":"Volume"})]})]}),m.waiting&&!m.ended&&e.jsx("div",{className:"vm-audio-loading",children:e.jsx("div",{className:"vm-loading-spinner"})})]})});dt.displayName="AudioPlayer";export{mt as o,dt as u};
